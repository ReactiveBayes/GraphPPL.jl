<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · GraphPPL.jl</title><meta name="title" content="Overview · GraphPPL.jl"/><meta property="og:title" content="Overview · GraphPPL.jl"/><meta property="twitter:title" content="Overview · GraphPPL.jl"/><meta name="description" content="Documentation for GraphPPL.jl."/><meta property="og:description" content="Documentation for GraphPPL.jl."/><meta property="twitter:description" content="Documentation for GraphPPL.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">GraphPPL.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../getting_started/">Getting Started</a></li><li><a class="tocitem" href="../../syntax_guide/">Syntax Guide</a></li><li><a class="tocitem" href="../../nested_models/">Nested Models</a></li><li><span class="tocitem">Plugins</span><ul><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#Creating-a-plugin"><span>Creating a plugin</span></a></li><li><a class="tocitem" href="#Available-plugins"><span>Available plugins</span></a></li><li><a class="tocitem" href="#Using-a-plugin"><span>Using a plugin</span></a></li><li><a class="tocitem" href="#Reference"><span>Reference</span></a></li></ul></li><li><a class="tocitem" href="../constraint_specification/">Variational Inference &amp; Constraints</a></li><li><a class="tocitem" href="../meta_specification/">Attaching metadata to nodes</a></li><li><a class="tocitem" href="../created_by/">Tracking creation of nodes</a></li><li><a class="tocitem" href="../node_id/">Setting ID of nodes</a></li></ul></li><li><a class="tocitem" href="../../migration_3_to_4/">Migration Guide (from v3 to v4)</a></li><li><a class="tocitem" href="../../developers_guide/">Developers Guide</a></li><li><a class="tocitem" href="../../custom_backend/">Custom backend</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Plugins</a></li><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/GraphPPL.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/GraphPPL.jl/blob/main/docs/src/plugins/overview.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Plugin-system"><a class="docs-heading-anchor" href="#Plugin-system">Plugin system</a><a id="Plugin-system-1"></a><a class="docs-heading-anchor-permalink" href="#Plugin-system" title="Permalink"></a></h1><p>While <code>GraphPPL</code> is backend agnostic, specific inference backends might require additional functionality or data saved in nodes. To accommodate these needs, <code>GraphPPL</code> exposes a plugin system that allows users to extend the functionality of the package. Plugins allow the core package to remain lightweight, as well as allowing backend-specific functionality. For example, a node does not need to know by which line of code it was originally created. As an example, for debugging purposes, it might be useful to save this information in the node. <code>GraphPPL</code> <a href="../created_by/#plugins-node-created-by">implements</a> a plugin that, when enabled on a model, saves this information in every node. This allows for useful debugging, while switching this functionality off when not needed saves the memory footprint of the model. </p><h2 id="Creating-a-plugin"><a class="docs-heading-anchor" href="#Creating-a-plugin">Creating a plugin</a><a id="Creating-a-plugin-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-plugin" title="Permalink"></a></h2><p>A plugin is a structure that contains a set of functions that are called at specific points in the model creation process. The plugin is implemented with the <a href="#GraphPPL.preprocess_plugin"><code>GraphPPL.preprocess_plugin</code></a> and <a href="#GraphPPL.postprocess_plugin"><code>GraphPPL.postprocess_plugin</code></a> functions:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GraphPPL.preprocess_plugin" href="#GraphPPL.preprocess_plugin"><code>GraphPPL.preprocess_plugin</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">preprocess_plugin(plugin, model, context, label, nodedata, options)</code></pre><p>Call a plugin specific logic for a node with label and nodedata upon their creation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/GraphPPL.jl/blob/a165516bfa50d480fd11e5a9f558600b3f4b129a/src/graph_engine.jl#L2121-L2125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GraphPPL.postprocess_plugin" href="#GraphPPL.postprocess_plugin"><code>GraphPPL.postprocess_plugin</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">postprocess_plugin(plugin, model)</code></pre><p>Calls a plugin specific logic after the model has been created. By default does nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/GraphPPL.jl/blob/a165516bfa50d480fd11e5a9f558600b3f4b129a/src/graph_engine.jl#L2128-L2132">source</a></section></article><p>Within these functions, the plugin can modify the model, add new nodes, or modify existing nodes. Also, additional data can be passed to nodes in the <code>preprocess_plugin</code> function.</p><h2 id="Available-plugins"><a class="docs-heading-anchor" href="#Available-plugins">Available plugins</a><a id="Available-plugins-1"></a><a class="docs-heading-anchor-permalink" href="#Available-plugins" title="Permalink"></a></h2><p>The following plugins are available by default in <code>GraphPPL</code>:</p><ul><li><a href="../constraint_specification/#GraphPPL.VariationalConstraintsPlugin"><code>GraphPPL.VariationalConstraintsPlugin</code></a>: adds <a href="../constraint_specification/#constraints-specification">constraints</a> to the model that are used in variational inference.</li><li><a href="../meta_specification/#GraphPPL.MetaPlugin"><code>GraphPPL.MetaPlugin</code></a>: adds arbitrary metadata to nodes in the model.</li><li><a href="../created_by/#GraphPPL.NodeCreatedByPlugin"><code>GraphPPL.NodeCreatedByPlugin</code></a>: adds information about the line of code that created the node. </li><li><a href="../node_id/#GraphPPL.NodeIdPlugin"><code>GraphPPL.NodeIdPlugin</code></a>: allows attaching an <code>id</code> to factor nodes for later inspection.</li></ul><h2 id="Using-a-plugin"><a class="docs-heading-anchor" href="#Using-a-plugin">Using a plugin</a><a id="Using-a-plugin-1"></a><a class="docs-heading-anchor-permalink" href="#Using-a-plugin" title="Permalink"></a></h2><p>To use a plugin, call the <code>with_plugins</code> function when constructing a model:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GraphPPL.with_plugins" href="#GraphPPL.with_plugins"><code>GraphPPL.with_plugins</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">with_plugins(generator::ModelGenerator, plugins::PluginsCollection)</code></pre><p>Attaches the <code>plugins</code> to the <code>generator</code>. For example:</p><pre><code class="language-julia hljs">plugins = GraphPPL.PluginsCollection(GraphPPL.NodeCreatedByPlugin())
new_generator = GraphPPL.with_plugins(generator, plugins)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/GraphPPL.jl/blob/a165516bfa50d480fd11e5a9f558600b3f4b129a/src/model_generator.jl#L22-L30">source</a></section></article><p>The <code>PluginsCollection</code> is a collection of plugins that will be applied to the model. The order of plugins in the collection is important, as the <code>preprocess_plugin</code> and <code>postprocess_plugin</code> functions are called in the order of the plugins in the collection.</p><h2 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GraphPPL.UnknownPluginType" href="#GraphPPL.UnknownPluginType"><code>GraphPPL.UnknownPluginType</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A trait object for unknown plugins. Such plugins cannot be added to the collection, unless they implement the <code>plugin_type</code> method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/GraphPPL.jl/blob/a165516bfa50d480fd11e5a9f558600b3f4b129a/src/plugins_collection.jl#L4-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GraphPPL.plugin_type" href="#GraphPPL.plugin_type"><code>GraphPPL.plugin_type</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Checks the type of the plugin and returns the corresponding trait object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/GraphPPL.jl/blob/a165516bfa50d480fd11e5a9f558600b3f4b129a/src/plugins_collection.jl#L9-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GraphPPL.PluginsCollection" href="#GraphPPL.PluginsCollection"><code>GraphPPL.PluginsCollection</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A collection of plugins.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/GraphPPL.jl/blob/a165516bfa50d480fd11e5a9f558600b3f4b129a/src/plugins_collection.jl#L14-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GraphPPL.add_plugin" href="#GraphPPL.add_plugin"><code>GraphPPL.add_plugin</code></a> — <span class="docstring-category">Function</span></header><section><div><p>add_plugin(collection::PluginsCollection, plugin)</p><p>Adds a plugin to the collection. The plugin must be of a type that is supported by the collection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/GraphPPL.jl/blob/a165516bfa50d480fd11e5a9f558600b3f4b129a/src/plugins_collection.jl#L40-L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GraphPPL.VariableNodePlugin" href="#GraphPPL.VariableNodePlugin"><code>GraphPPL.VariableNodePlugin</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A trait object for plugins that add extra functionality for variable nodes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/GraphPPL.jl/blob/a165516bfa50d480fd11e5a9f558600b3f4b129a/src/graph_engine.jl#L2111-L2113">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GraphPPL.FactorNodePlugin" href="#GraphPPL.FactorNodePlugin"><code>GraphPPL.FactorNodePlugin</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A trait object for plugins that add extra functionality for factor nodes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/GraphPPL.jl/blob/a165516bfa50d480fd11e5a9f558600b3f4b129a/src/graph_engine.jl#L2106-L2108">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="GraphPPL.FactorAndVariableNodesPlugin" href="#GraphPPL.FactorAndVariableNodesPlugin"><code>GraphPPL.FactorAndVariableNodesPlugin</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A trait object for plugins that add extra functionality both for factor and variable nodes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/GraphPPL.jl/blob/a165516bfa50d480fd11e5a9f558600b3f4b129a/src/graph_engine.jl#L2116-L2118">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../nested_models/">« Nested Models</a><a class="docs-footer-nextpage" href="../constraint_specification/">Variational Inference &amp; Constraints »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Tuesday 20 August 2024 15:21">Tuesday 20 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
